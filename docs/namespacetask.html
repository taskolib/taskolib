<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Taskolib: task Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Taskolib
   &#160;<span id="projectnumber">0.1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">task Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Namespace task contains all Taskolib functions and classes. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A struct combining a message queue and several atomic flags.  <a href="structtask_1_1CommChannel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask_1_1Context.html">Context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A context stores information that influences the execution of steps and sequences, namely:  <a href="structtask_1_1Context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1Error.html">Error</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A generic exception class carrying a message string.  <a href="classtask_1_1Error.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1Executor.html">Executor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An executor runs a copy of a given <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> in a separate thread, receives messages from it, and updates the local copy accordingly.  <a href="classtask_1_1Executor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1LockedQueue.html">LockedQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A thread-safe locking message queue.  <a href="classtask_1_1LockedQueue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1Message.html">Message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A message carrying some text, a timestamp, and a type, to be transported with a message queue between threads.  <a href="classtask_1_1Message.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1Sequence.html">Sequence</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A sequence of <a class="el" href="classtask_1_1Step.html">Step</a>s to be executed under a given <a class="el" href="structtask_1_1Context.html" title="A context stores information that influences the execution of steps and sequences,...">Context</a>.  <a href="classtask_1_1Sequence.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1SequenceManager.html">SequenceManager</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class to have a birds eye view on the underlying serialized sequences in the file system.  <a href="classtask_1_1SequenceManager.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1Step.html">Step</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A step is the main building block of a sequence.  <a href="classtask_1_1Step.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask_1_1VariableName.html">VariableName</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A variable name is a string with limited functionality and some limitations on the allowed characters.  <a href="classtask_1_1VariableName.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a02deef82cab496b1f4ebc83ac220097d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a02deef82cab496b1f4ebc83ac220097d">VariableValue</a> = std::variant&lt; long long, double, std::string &gt;</td></tr>
<tr class="memdesc:a02deef82cab496b1f4ebc83ac220097d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A VariableValue is a variant over several data types (long long, double, std::string).  <a href="namespacetask.html#a02deef82cab496b1f4ebc83ac220097d">More...</a><br /></td></tr>
<tr class="separator:a02deef82cab496b1f4ebc83ac220097d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a57d6fe0834a17bb2c106dec6b5b69"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a42a57d6fe0834a17bb2c106dec6b5b69">OutputCallback</a> = std::function&lt; void(const std::string &amp;, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *)&gt;</td></tr>
<tr class="memdesc:a42a57d6fe0834a17bb2c106dec6b5b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">An output function accepts a string and a CommChannel* as parameters.  <a href="namespacetask.html#a42a57d6fe0834a17bb2c106dec6b5b69">More...</a><br /></td></tr>
<tr class="separator:a42a57d6fe0834a17bb2c106dec6b5b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cb88831b94f9f5d3f4894307efef74"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a94cb88831b94f9f5d3f4894307efef74">VariableNames</a> = std::set&lt; <a class="el" href="classtask_1_1VariableName.html">VariableName</a> &gt;</td></tr>
<tr class="separator:a94cb88831b94f9f5d3f4894307efef74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce2a15aa7c38168b416d75758c752ff"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#acce2a15aa7c38168b416d75758c752ff">Clock</a> = std::chrono::system_clock</td></tr>
<tr class="separator:acce2a15aa7c38168b416d75758c752ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0d5ac00c79dac8125ed175e9d6ae5c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a> = std::chrono::time_point&lt; <a class="el" href="namespacetask.html#acce2a15aa7c38168b416d75758c752ff">Clock</a> &gt;</td></tr>
<tr class="separator:acc0d5ac00c79dac8125ed175e9d6ae5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a82e309aedbfe18de6803e1479fc4853d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a82e309aedbfe18de6803e1479fc4853d">send_message</a> (<a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *comm_channel, <a class="el" href="classtask_1_1Message.html#a4815e8e0b100ea8f309a03856ad81cd4">Message::Type</a> type, gul14::string_view text, <a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a> timestamp, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a> index)</td></tr>
<tr class="memdesc:a82e309aedbfe18de6803e1479fc4853d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a message in the given communication channel.  <a href="namespacetask.html#a82e309aedbfe18de6803e1479fc4853d">More...</a><br /></td></tr>
<tr class="separator:a82e309aedbfe18de6803e1479fc4853d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa919a93bd3f137ab2fc2dc5d14cebfb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#aa919a93bd3f137ab2fc2dc5d14cebfb1">print_to_stdout</a> (const std::string &amp;str, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *comm_channel)</td></tr>
<tr class="memdesc:aa919a93bd3f137ab2fc2dc5d14cebfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a string to stdout.  <a href="namespacetask.html#aa919a93bd3f137ab2fc2dc5d14cebfb1">More...</a><br /></td></tr>
<tr class="separator:aa919a93bd3f137ab2fc2dc5d14cebfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d9b5483538f39f32f137e0650f9edc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a22d9b5483538f39f32f137e0650f9edc">print_info_to_stdout</a> (const std::string &amp;str, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *comm_channel)</td></tr>
<tr class="memdesc:a22d9b5483538f39f32f137e0650f9edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a string to stdout with an "INFO: " prefix.  <a href="namespacetask.html#a22d9b5483538f39f32f137e0650f9edc">More...</a><br /></td></tr>
<tr class="separator:a22d9b5483538f39f32f137e0650f9edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19945d86cad9726b747d08e9828b457e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a19945d86cad9726b747d08e9828b457e">print_warning_to_stdout</a> (const std::string &amp;str, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *comm_channel)</td></tr>
<tr class="memdesc:a19945d86cad9726b747d08e9828b457e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a string to stdout with a "WARNING: " prefix.  <a href="namespacetask.html#a19945d86cad9726b747d08e9828b457e">More...</a><br /></td></tr>
<tr class="separator:a19945d86cad9726b747d08e9828b457e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13065f3f11f6ce46533da9010c914894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a13065f3f11f6ce46533da9010c914894">print_error_to_stdout</a> (const std::string &amp;str, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *comm_channel)</td></tr>
<tr class="memdesc:a13065f3f11f6ce46533da9010c914894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a string to stdout with an "ERROR: " prefix.  <a href="namespacetask.html#a13065f3f11f6ce46533da9010c914894">More...</a><br /></td></tr>
<tr class="separator:a13065f3f11f6ce46533da9010c914894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6267718d543a5b3e74455d4e78de04f3"><td class="memItemLeft" align="right" valign="top">std::istream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a6267718d543a5b3e74455d4e78de04f3">operator&gt;&gt;</a> (std::istream &amp;stream, <a class="el" href="classtask_1_1Step.html">Step</a> &amp;step)</td></tr>
<tr class="memdesc:a6267718d543a5b3e74455d4e78de04f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserialize parameters of <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> from the input stream.  <a href="namespacetask.html#a6267718d543a5b3e74455d4e78de04f3">More...</a><br /></td></tr>
<tr class="separator:a6267718d543a5b3e74455d4e78de04f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb56facda2ea2287b3661a979447b86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtask_1_1Step.html">Step</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a8fb56facda2ea2287b3661a979447b86">deserialize_step</a> (const std::filesystem::path &amp;path)</td></tr>
<tr class="memdesc:a8fb56facda2ea2287b3661a979447b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts and creates from <em>path</em> a <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> and returns it.  <a href="namespacetask.html#a8fb56facda2ea2287b3661a979447b86">More...</a><br /></td></tr>
<tr class="separator:a8fb56facda2ea2287b3661a979447b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828883faf4abd4c06e63c0989abed8ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtask_1_1Sequence.html">Sequence</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a828883faf4abd4c06e63c0989abed8ff">deserialize_sequence</a> (const std::filesystem::path &amp;path)</td></tr>
<tr class="memdesc:a828883faf4abd4c06e63c0989abed8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserialize <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> from file path.  <a href="namespacetask.html#a828883faf4abd4c06e63c0989abed8ff">More...</a><br /></td></tr>
<tr class="separator:a828883faf4abd4c06e63c0989abed8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee945ef7a60605fe4bbb79f54f4d93d0"><td class="memItemLeft" align="right" valign="top">constexpr unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#aee945ef7a60605fe4bbb79f54f4d93d0">hash_djb2a</a> (gul14::string_view sv)</td></tr>
<tr class="memdesc:aee945ef7a60605fe4bbb79f54f4d93d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapt switch statement with stringify items: <a href="https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/">https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/</a> Version 1.4: 2022/01/15, MIT license, (c) 2020-22 Richard Spencer.  <a href="namespacetask.html#aee945ef7a60605fe4bbb79f54f4d93d0">More...</a><br /></td></tr>
<tr class="separator:aee945ef7a60605fe4bbb79f54f4d93d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13be00fde941e870055dfc0ff7a196da"><td class="memItemLeft" align="right" valign="top">constexpr unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a13be00fde941e870055dfc0ff7a196da">operator&quot;&quot;_sh</a> (const char *str, std::size_t len)</td></tr>
<tr class="memdesc:a13be00fde941e870055dfc0ff7a196da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapt switch statement with stringify items: <a href="https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/">https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/</a> Version 1.4: 2022/01/15, MIT license, (c) 2020-22 Richard Spencer.  <a href="namespacetask.html#a13be00fde941e870055dfc0ff7a196da">More...</a><br /></td></tr>
<tr class="separator:a13be00fde941e870055dfc0ff7a196da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2246f61abd992f460cb3afe7ce45bac2"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a2246f61abd992f460cb3afe7ce45bac2">operator&lt;&lt;</a> (std::ostream &amp;stream, const <a class="el" href="classtask_1_1Step.html">Step</a> &amp;step)</td></tr>
<tr class="memdesc:a2246f61abd992f460cb3afe7ce45bac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize parameters of <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> to the output stream.  <a href="namespacetask.html#a2246f61abd992f460cb3afe7ce45bac2">More...</a><br /></td></tr>
<tr class="separator:a2246f61abd992f460cb3afe7ce45bac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28c4e2592d093e72faa983a544590c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#af28c4e2592d093e72faa983a544590c6">serialize_step</a> (const std::filesystem::path &amp;path, const <a class="el" href="classtask_1_1Step.html">Step</a> &amp;step)</td></tr>
<tr class="memdesc:af28c4e2592d093e72faa983a544590c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> to the file system.  <a href="namespacetask.html#af28c4e2592d093e72faa983a544590c6">More...</a><br /></td></tr>
<tr class="separator:af28c4e2592d093e72faa983a544590c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43508d1c2279af5bf6ca7060dc3bcdd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a43508d1c2279af5bf6ca7060dc3bcdd1">serialize_sequence</a> (const std::filesystem::path &amp;path, const <a class="el" href="classtask_1_1Sequence.html">Sequence</a> &amp;sequence)</td></tr>
<tr class="memdesc:a43508d1c2279af5bf6ca7060dc3bcdd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> with all of its <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> 's as files.  <a href="namespacetask.html#a43508d1c2279af5bf6ca7060dc3bcdd1">More...</a><br /></td></tr>
<tr class="separator:a43508d1c2279af5bf6ca7060dc3bcdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea37a86e93c0787a6a6d84eeba336e8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a7ea37a86e93c0787a6a6d84eeba336e8">to_string</a> (<a class="el" href="classtask_1_1Step.html#a883bca847a5eb2882d74af8bf13ba3fd">Step::Type</a> type)</td></tr>
<tr class="memdesc:a7ea37a86e93c0787a6a6d84eeba336e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a lower-case name for a step type ("action", "if", "end").  <a href="namespacetask.html#a7ea37a86e93c0787a6a6d84eeba336e8">More...</a><br /></td></tr>
<tr class="separator:a7ea37a86e93c0787a6a6d84eeba336e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a3adfb97957bfee85dbc4a0a5ea371"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a77a3adfb97957bfee85dbc4a0a5ea371">to_string</a> (<a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">task::TimePoint</a> t)</td></tr>
<tr class="separator:a77a3adfb97957bfee85dbc4a0a5ea371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a13e460561c228be4437ac6e92a4f8"><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#aa8a13e460561c228be4437ac6e92a4f8">timegm</a> (const std::tm &amp;t)</td></tr>
<tr class="separator:aa8a13e460561c228be4437ac6e92a4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e70dafdac8eb79e24f90e03aec5b590"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error</a> (lua_State *lua_state, const std::string &amp;msg)</td></tr>
<tr class="separator:a4e70dafdac8eb79e24f90e03aec5b590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0420458f3b22f97c90b2a4a14d68b03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#ab0420458f3b22f97c90b2a4a14d68b03">check_immediate_termination_request</a> (lua_State *lua_state)</td></tr>
<tr class="separator:ab0420458f3b22f97c90b2a4a14d68b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a641a9ed8df01060d4121c81bc7adf8c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a641a9ed8df01060d4121c81bc7adf8c0">check_script_timeout</a> (lua_State *lua_state)</td></tr>
<tr class="separator:a641a9ed8df01060d4121c81bc7adf8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab787a9b84854ee2aa9a60dd2d478af3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#aab787a9b84854ee2aa9a60dd2d478af3">get_comm_channel_ptr_from_registry</a> (lua_State *lua_state)</td></tr>
<tr class="memdesc:aab787a9b84854ee2aa9a60dd2d478af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a pointer to the used <a class="el" href="structtask_1_1CommChannel.html" title="A struct combining a message queue and several atomic flags.">CommChannel</a> from the LUA registry.  <a href="namespacetask.html#aab787a9b84854ee2aa9a60dd2d478af3">More...</a><br /></td></tr>
<tr class="separator:aab787a9b84854ee2aa9a60dd2d478af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dde6fc938762ba04b3087cf1b341e61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a1dde6fc938762ba04b3087cf1b341e61">get_step_idx_from_registry</a> (lua_State *lua_state)</td></tr>
<tr class="memdesc:a1dde6fc938762ba04b3087cf1b341e61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the index of the currently executed <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> from the LUA registry.  <a href="namespacetask.html#a1dde6fc938762ba04b3087cf1b341e61">More...</a><br /></td></tr>
<tr class="separator:a1dde6fc938762ba04b3087cf1b341e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aee4dc6d28e84c77d228dc8be7b5039"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a6aee4dc6d28e84c77d228dc8be7b5039">get_ms_since_epoch</a> (<a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a> t0, std::chrono::milliseconds dt)</td></tr>
<tr class="separator:a6aee4dc6d28e84c77d228dc8be7b5039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace524b550971d657d53d927af82ff984"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#ace524b550971d657d53d927af82ff984">hook_check_timeout_and_termination_request</a> (lua_State *lua_state, lua_Debug *)</td></tr>
<tr class="separator:ace524b550971d657d53d927af82ff984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557348559e03f8f0d208a7c2dd72ce9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a557348559e03f8f0d208a7c2dd72ce9a">hook_abort_with_error</a> (lua_State *lua_state, lua_Debug *)</td></tr>
<tr class="separator:a557348559e03f8f0d208a7c2dd72ce9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7a11a007fc8aef5ca36bb152506877"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a2b7a11a007fc8aef5ca36bb152506877">install_custom_commands</a> (sol::state &amp;lua, const <a class="el" href="structtask_1_1Context.html">Context</a> &amp;context)</td></tr>
<tr class="memdesc:a2b7a11a007fc8aef5ca36bb152506877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Install implementations for some custom functions in the given LUA state.  <a href="namespacetask.html#a2b7a11a007fc8aef5ca36bb152506877">More...</a><br /></td></tr>
<tr class="separator:a2b7a11a007fc8aef5ca36bb152506877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c20b42b4b21d278e2ea72328f77fcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a22c20b42b4b21d278e2ea72328f77fcb">install_timeout_and_termination_request_hook</a> (sol::state &amp;lua, <a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a> now, std::chrono::milliseconds timeout, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a> step_idx, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *comm_channel)</td></tr>
<tr class="separator:a22c20b42b4b21d278e2ea72328f77fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1970184ef62d5b886ee123608c7e852f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a1970184ef62d5b886ee123608c7e852f">open_safe_library_subset</a> (sol::state &amp;lua)</td></tr>
<tr class="separator:a1970184ef62d5b886ee123608c7e852f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a6a2961f2332a56c624ce45375f025"><td class="memItemLeft" align="right" valign="top">std::function&lt; void(sol::this_state, sol::variadic_args)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">make_print_fct</a> (std::function&lt; void(const std::string &amp;, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *)&gt; <a class="el" href="namespacetask.html#a65bd182d91456185224d296ca523b74c">print_fct</a>)</td></tr>
<tr class="memdesc:a40a6a2961f2332a56c624ce45375f025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a print() function for LUA that wraps a print callback from the <a class="el" href="structtask_1_1Context.html" title="A context stores information that influences the execution of steps and sequences,...">Context</a>.  <a href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">More...</a><br /></td></tr>
<tr class="separator:a40a6a2961f2332a56c624ce45375f025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edfc1afaf6e9d8647ac3d98aa021e40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a2edfc1afaf6e9d8647ac3d98aa021e40">sleep_fct</a> (double seconds, sol::this_state sol)</td></tr>
<tr class="separator:a2edfc1afaf6e9d8647ac3d98aa021e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bd182d91456185224d296ca523b74c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a65bd182d91456185224d296ca523b74c">print_fct</a> (const std::string &amp;text, sol::this_state sol)</td></tr>
<tr class="separator:a65bd182d91456185224d296ca523b74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7bef6a9def7c1bf4e524f19e5e201907"><td class="memItemLeft" align="right" valign="top">const gul14::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetask.html#a7bef6a9def7c1bf4e524f19e5e201907">abort_marker</a> { u8&quot;\U0001F6D1ABORT\U0001F6D1&quot; }</td></tr>
<tr class="memdesc:a7bef6a9def7c1bf4e524f19e5e201907"><td class="mdescLeft">&#160;</td><td class="mdescRight">A marker string (the word "ABORT" surrounded by Unicode stop signs) whose presence anywhere in an error message signals that the execution of a script should be stopped.  <a href="namespacetask.html#a7bef6a9def7c1bf4e524f19e5e201907">More...</a><br /></td></tr>
<tr class="separator:a7bef6a9def7c1bf4e524f19e5e201907"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="acce2a15aa7c38168b416d75758c752ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce2a15aa7c38168b416d75758c752ff">&#9670;&nbsp;</a></span>Clock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespacetask.html#acce2a15aa7c38168b416d75758c752ff">task::Clock</a> = typedef std::chrono::system_clock</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a42a57d6fe0834a17bb2c106dec6b5b69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a57d6fe0834a17bb2c106dec6b5b69">&#9670;&nbsp;</a></span>OutputCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespacetask.html#a42a57d6fe0834a17bb2c106dec6b5b69">task::OutputCallback</a> = typedef std::function&lt;void(const std::string&amp;, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a>*)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An output function accepts a string and a CommChannel* as parameters. </p>
<p>The latter may be null to indicate that there is no associated communication channel. </p>

</div>
</div>
<a id="acc0d5ac00c79dac8125ed175e9d6ae5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc0d5ac00c79dac8125ed175e9d6ae5c">&#9670;&nbsp;</a></span>TimePoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">task::TimePoint</a> = typedef std::chrono::time_point&lt;<a class="el" href="namespacetask.html#acce2a15aa7c38168b416d75758c752ff">Clock</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a94cb88831b94f9f5d3f4894307efef74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cb88831b94f9f5d3f4894307efef74">&#9670;&nbsp;</a></span>VariableNames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespacetask.html#a94cb88831b94f9f5d3f4894307efef74">task::VariableNames</a> = typedef std::set&lt;<a class="el" href="classtask_1_1VariableName.html">VariableName</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a02deef82cab496b1f4ebc83ac220097d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02deef82cab496b1f4ebc83ac220097d">&#9670;&nbsp;</a></span>VariableValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespacetask.html#a02deef82cab496b1f4ebc83ac220097d">task::VariableValue</a> = typedef std::variant&lt;long long, double, std::string&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A VariableValue is a variant over several data types (long long, double, std::string). </p>
<p>Names are associated with these values via a map in the <a class="el" href="structtask_1_1Context.html" title="A context stores information that influences the execution of steps and sequences,...">Context</a> type. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4e70dafdac8eb79e24f90e03aec5b590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e70dafdac8eb79e24f90e03aec5b590">&#9670;&nbsp;</a></span>abort_script_with_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::abort_script_with_error </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="namespacetask.html#a7bef6a9def7c1bf4e524f19e5e201907">abort_marker</a>, and <a class="el" href="namespacetask.html#a557348559e03f8f0d208a7c2dd72ce9a">hook_abort_with_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#ab0420458f3b22f97c90b2a4a14d68b03">check_immediate_termination_request()</a>, <a class="el" href="namespacetask.html#a641a9ed8df01060d4121c81bc7adf8c0">check_script_timeout()</a>, <a class="el" href="namespacetask.html#a2b7a11a007fc8aef5ca36bb152506877">install_custom_commands()</a>, and <a class="el" href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">make_print_fct()</a>.</p>

</div>
</div>
<a id="ab0420458f3b22f97c90b2a4a14d68b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0420458f3b22f97c90b2a4a14d68b03">&#9670;&nbsp;</a></span>check_immediate_termination_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::check_immediate_termination_request </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error()</a>, <a class="el" href="namespacetask.html#aab787a9b84854ee2aa9a60dd2d478af3">get_comm_channel_ptr_from_registry()</a>, and <a class="el" href="structtask_1_1CommChannel.html#ac4876956043a0dd617c39698a8816d15">task::CommChannel::immediate_termination_requested_</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#ace524b550971d657d53d927af82ff984">hook_check_timeout_and_termination_request()</a>.</p>

</div>
</div>
<a id="a641a9ed8df01060d4121c81bc7adf8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a641a9ed8df01060d4121c81bc7adf8c0">&#9670;&nbsp;</a></span>check_script_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::check_script_timeout </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#ace524b550971d657d53d927af82ff984">hook_check_timeout_and_termination_request()</a>.</p>

</div>
</div>
<a id="a828883faf4abd4c06e63c0989abed8ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828883faf4abd4c06e63c0989abed8ff">&#9670;&nbsp;</a></span>deserialize_sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtask_1_1Sequence.html">Sequence</a> task::deserialize_sequence </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserialize <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> from file path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>a directory from which the sequence should be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the deserialized <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> object. </dd></dl>

<p class="reference">References <a class="el" href="namespacetask.html#a8fb56facda2ea2287b3661a979447b86">deserialize_step()</a>, and <a class="el" href="classtask_1_1Sequence.html#a5b281658b4349ca8c63a8a287ebd0420">task::Sequence::push_back()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classtask_1_1SequenceManager.html#a48adcbdcc8cf7e351e63c449a1931049">task::SequenceManager::load_sequence()</a>.</p>

</div>
</div>
<a id="a8fb56facda2ea2287b3661a979447b86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb56facda2ea2287b3661a979447b86">&#9670;&nbsp;</a></span>deserialize_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtask_1_1Step.html">Step</a> task::deserialize_step </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts and creates from <em>path</em> a <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> and returns it. </p>
<p>The file path must be a Lua script and should have the extension 'lua'.</p>
<p>It will throw an <a class="el" href="classtask_1_1Error.html" title="A generic exception class carrying a message string.">Error</a> exception if an I/O error occurs on the external file path or the file does not exist.</p>
<p>To deserialize a <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> it must consist with following minimum properties: </p><div class="fragment"><div class="line">-- type: action \a or if \a or ...</div>
<div class="line">-- label: &lt; \a label \a description &gt;</div>
</div><!-- fragment --><p>Optional are the following properties: </p><div class="fragment"><div class="line">-- use context variable names: [ \a variable1, ... ]</div>
<div class="line">-- time of last modification: %Y-%m-%d %H:%M:%S</div>
<div class="line">-- time of last execution: %Y-%m-%d %H:%M:%S</div>
<div class="line">-- timeout: [infinity|&lt; \a timeout \a in \a milliseconds &gt;]</div>
</div><!-- fragment --><p>Here is one example of a stored <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> <em>step_001_while.lua</em> : </p><div class="fragment"><div class="line">-- type: <span class="keywordflow">while</span></div>
<div class="line">-- label: Is increment lower then 10?</div>
<div class="line">-- use context variable names: [incr]</div>
<div class="line">-- time of last modification: 2022-06-13 16:30:32</div>
<div class="line">-- time of last execution: 2022-06-13 16:55:21</div>
<div class="line">-- timeout: 60000</div>
<div class="line"><span class="keywordflow">return</span> incr &lt; 10</div>
</div><!-- fragment --><p>The label is explicitly escaped on storing and unescaped on loading.</p>
<dl class="section note"><dt>Note</dt><dd><code>'&ndash;'</code> is a Lua comment and interpreted with special keywords to fill the <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> properties. </dd>
<dd>
for time interpretation see <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> </dd>
<dd>
if <code>&gt;time of last modification</code> is not provided in the file it is set to the time on loading the step. </dd>
<dd>
the collection of context variable names can also be an empty list, ie. <code></code>[] .</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path to a file from which the step should be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the deserialized <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> object. </dd></dl>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a828883faf4abd4c06e63c0989abed8ff">deserialize_sequence()</a>.</p>

</div>
</div>
<a id="aab787a9b84854ee2aa9a60dd2d478af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab787a9b84854ee2aa9a60dd2d478af3">&#9670;&nbsp;</a></span>get_comm_channel_ptr_from_registry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> * task::get_comm_channel_ptr_from_registry </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a pointer to the used <a class="el" href="structtask_1_1CommChannel.html" title="A struct combining a message queue and several atomic flags.">CommChannel</a> from the LUA registry. </p>
<p>The pointer can be null to indicate that no <a class="el" href="structtask_1_1CommChannel.html" title="A struct combining a message queue and several atomic flags.">CommChannel</a> is used.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classtask_1_1Error.html" title="A generic exception class carrying a message string.">Error</a></td><td>is thrown if the appropriate registry key is not found. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#ab0420458f3b22f97c90b2a4a14d68b03">check_immediate_termination_request()</a>, and <a class="el" href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">make_print_fct()</a>.</p>

</div>
</div>
<a id="a6aee4dc6d28e84c77d228dc8be7b5039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aee4dc6d28e84c77d228dc8be7b5039">&#9670;&nbsp;</a></span>get_ms_since_epoch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long task::get_ms_since_epoch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a>&#160;</td>
          <td class="paramname"><em>t0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a22c20b42b4b21d278e2ea72328f77fcb">install_timeout_and_termination_request_hook()</a>.</p>

</div>
</div>
<a id="a1dde6fc938762ba04b3087cf1b341e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dde6fc938762ba04b3087cf1b341e61">&#9670;&nbsp;</a></span>get_step_idx_from_registry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a> task::get_step_idx_from_registry </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the index of the currently executed <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> from the LUA registry. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classtask_1_1Error.html" title="A generic exception class carrying a message string.">Error</a></td><td>is thrown if the appropriate registry key is not found. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">make_print_fct()</a>.</p>

</div>
</div>
<a id="aee945ef7a60605fe4bbb79f54f4d93d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee945ef7a60605fe4bbb79f54f4d93d0">&#9670;&nbsp;</a></span>hash_djb2a()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned long task::hash_djb2a </td>
          <td>(</td>
          <td class="paramtype">gul14::string_view&#160;</td>
          <td class="paramname"><em>sv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adapt switch statement with stringify items: <a href="https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/">https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/</a> Version 1.4: 2022/01/15, MIT license, (c) 2020-22 Richard Spencer. </p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a13be00fde941e870055dfc0ff7a196da">operator&quot;&quot;_sh()</a>, and <a class="el" href="namespacetask.html#a6267718d543a5b3e74455d4e78de04f3">operator&gt;&gt;()</a>.</p>

</div>
</div>
<a id="a557348559e03f8f0d208a7c2dd72ce9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557348559e03f8f0d208a7c2dd72ce9a">&#9670;&nbsp;</a></span>hook_abort_with_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::hook_abort_with_error </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lua_Debug *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error()</a>.</p>

</div>
</div>
<a id="ace524b550971d657d53d927af82ff984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace524b550971d657d53d927af82ff984">&#9670;&nbsp;</a></span>hook_check_timeout_and_termination_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::hook_check_timeout_and_termination_request </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>lua_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lua_Debug *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="namespacetask.html#ab0420458f3b22f97c90b2a4a14d68b03">check_immediate_termination_request()</a>, and <a class="el" href="namespacetask.html#a641a9ed8df01060d4121c81bc7adf8c0">check_script_timeout()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a22c20b42b4b21d278e2ea72328f77fcb">install_timeout_and_termination_request_hook()</a>, and <a class="el" href="namespacetask.html#a2edfc1afaf6e9d8647ac3d98aa021e40">sleep_fct()</a>.</p>

</div>
</div>
<a id="a2b7a11a007fc8aef5ca36bb152506877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7a11a007fc8aef5ca36bb152506877">&#9670;&nbsp;</a></span>install_custom_commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::install_custom_commands </td>
          <td>(</td>
          <td class="paramtype">sol::state &amp;&#160;</td>
          <td class="paramname"><em>lua</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtask_1_1Context.html">Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Install implementations for some custom functions in the given LUA state. </p>
<div class="fragment"><div class="line">print() -- print a <span class="keywordtype">string</span> on the (<span class="keyword">virtual</span>) console; this function calls the</div>
<div class="line">           print_function callback from the given context</div>
<div class="line">sleep() -- wait for a given number of seconds</div>
</div><!-- fragment --> 
<p class="reference">References <a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error()</a>, <a class="el" href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">make_print_fct()</a>, <a class="el" href="structtask_1_1Context.html#a13c7e33d3b88611fe8453ebe9b9c27d5">task::Context::print_function</a>, and <a class="el" href="namespacetask.html#a2edfc1afaf6e9d8647ac3d98aa021e40">sleep_fct()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classtask_1_1Step.html#a4912a84fb2000af80f150ca165c327f7">task::Step::execute()</a>.</p>

</div>
</div>
<a id="a22c20b42b4b21d278e2ea72328f77fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c20b42b4b21d278e2ea72328f77fcb">&#9670;&nbsp;</a></span>install_timeout_and_termination_request_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::install_timeout_and_termination_request_hook </td>
          <td>(</td>
          <td class="paramtype">sol::state &amp;&#160;</td>
          <td class="paramname"><em>lua</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a>&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td>
          <td class="paramname"><em>step_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td>
          <td class="paramname"><em>comm_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="namespacetask.html#a6aee4dc6d28e84c77d228dc8be7b5039">get_ms_since_epoch()</a>, and <a class="el" href="namespacetask.html#ace524b550971d657d53d927af82ff984">hook_check_timeout_and_termination_request()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classtask_1_1Step.html#a4912a84fb2000af80f150ca165c327f7">task::Step::execute()</a>.</p>

</div>
</div>
<a id="a40a6a2961f2332a56c624ce45375f025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a6a2961f2332a56c624ce45375f025">&#9670;&nbsp;</a></span>make_print_fct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt; void(sol::this_state, sol::variadic_args)&gt; task::make_print_fct </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void(const std::string &amp;, <a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>, <a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *)&gt;&#160;</td>
          <td class="paramname"><em>print_fct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a print() function for LUA that wraps a print callback from the <a class="el" href="structtask_1_1Context.html" title="A context stores information that influences the execution of steps and sequences,...">Context</a>. </p>

<p class="reference">References <a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error()</a>, <a class="el" href="namespacetask.html#aab787a9b84854ee2aa9a60dd2d478af3">get_comm_channel_ptr_from_registry()</a>, <a class="el" href="namespacetask.html#a1dde6fc938762ba04b3087cf1b341e61">get_step_idx_from_registry()</a>, and <a class="el" href="namespacetask.html#a65bd182d91456185224d296ca523b74c">print_fct()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a2b7a11a007fc8aef5ca36bb152506877">install_custom_commands()</a>.</p>

</div>
</div>
<a id="a1970184ef62d5b886ee123608c7e852f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1970184ef62d5b886ee123608c7e852f">&#9670;&nbsp;</a></span>open_safe_library_subset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::open_safe_library_subset </td>
          <td>(</td>
          <td class="paramtype">sol::state &amp;&#160;</td>
          <td class="paramname"><em>lua</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classtask_1_1Step.html#a4912a84fb2000af80f150ca165c327f7">task::Step::execute()</a>.</p>

</div>
</div>
<a id="a13be00fde941e870055dfc0ff7a196da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13be00fde941e870055dfc0ff7a196da">&#9670;&nbsp;</a></span>operator&quot;&quot;_sh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned long task::operator&quot;&quot;_sh </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adapt switch statement with stringify items: <a href="https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/">https://learnmoderncpp.com/2020/06/01/strings-as-switch-case-labels/</a> Version 1.4: 2022/01/15, MIT license, (c) 2020-22 Richard Spencer. </p>

<p class="reference">References <a class="el" href="namespacetask.html#aee945ef7a60605fe4bbb79f54f4d93d0">hash_djb2a()</a>.</p>

</div>
</div>
<a id="a2246f61abd992f460cb3afe7ce45bac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2246f61abd992f460cb3afe7ce45bac2">&#9670;&nbsp;</a></span>operator&lt;&lt;()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; task::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtask_1_1Step.html">Step</a> &amp;&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serialize parameters of <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> to the output stream. </p>
<p>No checking of any stream failure is done and should be performed by the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>to serialize the <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> </td></tr>
    <tr><td class="paramname">step</td><td>to serialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>passed output stream </dd></dl>

<p class="reference">References <a class="el" href="classtask_1_1Step.html#a72a8522a7cade223be1acdd1cf50428e">task::Step::get_label()</a>, <a class="el" href="classtask_1_1Step.html#a8efc866ad8e341fff4cc2f7fd12434cb">task::Step::get_script()</a>, <a class="el" href="classtask_1_1Step.html#a07150f0d3373f67cc709cab7208e407d">task::Step::get_time_of_last_execution()</a>, <a class="el" href="classtask_1_1Step.html#aba452f58a7dddc0de47091d877f4daeb">task::Step::get_time_of_last_modification()</a>, <a class="el" href="classtask_1_1Step.html#aeec4e74736bc21d2758f89dd66ac8ec6">task::Step::get_timeout()</a>, <a class="el" href="classtask_1_1Step.html#a56b65bdabb98ece059fc5fa7c8e83ad6">task::Step::get_type()</a>, <a class="el" href="classtask_1_1Step.html#afa91f9591a0f743beaea0c04be7f1e1e">task::Step::get_used_context_variable_names()</a>, <a class="el" href="classtask_1_1Step.html#a0cbf174f91ea5c26c28ec436ba62b6c3">task::Step::infinite_timeout</a>, <a class="el" href="classtask_1_1Step.html#ac4f0f6d8a8361a59ebe7be98e4bb9dc7">task::Step::is_disabled()</a>, and <a class="el" href="namespacetask.html#a7ea37a86e93c0787a6a6d84eeba336e8">to_string()</a>.</p>

</div>
</div>
<a id="a6267718d543a5b3e74455d4e78de04f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6267718d543a5b3e74455d4e78de04f3">&#9670;&nbsp;</a></span>operator&gt;&gt;()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::istream &amp; task::operator&gt;&gt; </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Step.html">Step</a> &amp;&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserialize parameters of <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> from the input stream. </p>
<p>No checking of any stream failure is done and should be performed by the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>input stream </td></tr>
    <tr><td class="paramname">step</td><td><a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> to be deserialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>passed input stream </dd></dl>

<p class="reference">References <a class="el" href="namespacetask.html#aee945ef7a60605fe4bbb79f54f4d93d0">hash_djb2a()</a>, <a class="el" href="classtask_1_1Step.html#aaa01eaf139e91add89f808f2883855e4">task::Step::set_script()</a>, and <a class="el" href="classtask_1_1Step.html#a277e32b2aaa43d487a37629b09e8062e">task::Step::set_time_of_last_modification()</a>.</p>

</div>
</div>
<a id="a13065f3f11f6ce46533da9010c914894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13065f3f11f6ce46533da9010c914894">&#9670;&nbsp;</a></span>print_error_to_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::print_error_to_stdout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td>
          <td class="paramname"><em>comm_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a string to stdout with an "ERROR: " prefix. </p>

</div>
</div>
<a id="a65bd182d91456185224d296ca523b74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bd182d91456185224d296ca523b74c">&#9670;&nbsp;</a></span>print_fct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::print_fct </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sol::this_state&#160;</td>
          <td class="paramname"><em>sol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a40a6a2961f2332a56c624ce45375f025">make_print_fct()</a>.</p>

</div>
</div>
<a id="a22d9b5483538f39f32f137e0650f9edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d9b5483538f39f32f137e0650f9edc">&#9670;&nbsp;</a></span>print_info_to_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::print_info_to_stdout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td>
          <td class="paramname"><em>comm_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a string to stdout with an "INFO: " prefix. </p>

</div>
</div>
<a id="aa919a93bd3f137ab2fc2dc5d14cebfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa919a93bd3f137ab2fc2dc5d14cebfb1">&#9670;&nbsp;</a></span>print_to_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::print_to_stdout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td>
          <td class="paramname"><em>comm_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a string to stdout. </p>

</div>
</div>
<a id="a19945d86cad9726b747d08e9828b457e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19945d86cad9726b747d08e9828b457e">&#9670;&nbsp;</a></span>print_warning_to_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::print_warning_to_stdout </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td>
          <td class="paramname"><em>comm_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a string to stdout with a "WARNING: " prefix. </p>

</div>
</div>
<a id="a82e309aedbfe18de6803e1479fc4853d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e309aedbfe18de6803e1479fc4853d">&#9670;&nbsp;</a></span>send_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void task::send_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask_1_1CommChannel.html">CommChannel</a> *&#160;</td>
          <td class="paramname"><em>comm_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#a4815e8e0b100ea8f309a03856ad81cd4">Message::Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gul14::string_view&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">TimePoint</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask_1_1Message.html#af951d62df0b16327f86217eb12396960">Message::IndexType</a>&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueue a message in the given communication channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm_channel</td><td>Pointer to the communication channel. If this is null, the function does nothing. </td></tr>
    <tr><td class="paramname">type</td><td><a class="el" href="classtask_1_1Message.html" title="A message carrying some text, a timestamp, and a type, to be transported with a message queue between...">Message</a> type (see <a class="el" href="classtask_1_1Message.html#a4815e8e0b100ea8f309a03856ad81cd4" title="The type of this message.">Message::Type</a>) </td></tr>
    <tr><td class="paramname">text</td><td><a class="el" href="classtask_1_1Message.html" title="A message carrying some text, a timestamp, and a type, to be transported with a message queue between...">Message</a> text </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the message </td></tr>
    <tr><td class="paramname">index</td><td>Index (of a <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> in its parent <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a>)</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a class="code" href="namespacetask.html#a82e309aedbfe18de6803e1479fc4853d">send_message</a>(comm_channel, type, text, timestamp, index);</div>
<div class="line"><span class="comment">// ... is equivalent to:</span></div>
<div class="line"><span class="keywordflow">if</span> (comm_channel)</div>
<div class="line">    comm_channel-&gt;queue_.push(Message(type, text, timestamp, index));</div>
</div><!-- fragment --> 
<p class="reference">References <a class="el" href="structtask_1_1CommChannel.html#adc29bf8699812fc89aa6eaeed512449c">task::CommChannel::queue_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classtask_1_1Step.html#a4912a84fb2000af80f150ca165c327f7">task::Step::execute()</a>, and <a class="el" href="classtask_1_1Sequence.html#a72a058077848e9856dd785df72cfb901">task::Sequence::execute()</a>.</p>

</div>
</div>
<a id="a43508d1c2279af5bf6ca7060dc3bcdd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43508d1c2279af5bf6ca7060dc3bcdd1">&#9670;&nbsp;</a></span>serialize_sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::serialize_sequence </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtask_1_1Sequence.html">Sequence</a> &amp;&#160;</td>
          <td class="paramname"><em>sequence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serialize <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> with all of its <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> 's as files. </p>
<p>After serializing you will find the following structure:</p>
<ul>
<li>the sequence label is extracted to a folder name, where underneath all steps are serialized. If the label has one of the following characters they are escaped to hexadecimal format: /\:?*"'&lt;&gt;|$&amp;. Moreover all control characters (&lt;= 32) are converted to space character (' ').</li>
<li><p class="startli">underneath the sequence folder you will find the <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> 's serialized in files. To differ the <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> they are enumerated. Each filename starts with <code>step</code> followed by a consecutive step enumeration number followed by type. Since you can directly evaluate the step as a Lua script it has the extension &lsquo;&rsquo;.lua'&lsquo;. The step numbering is filled with '0&rsquo; to allow alphanumerical sorting.</p>
<p class="startli">Here is one example for the first step that has type <code>action</code>: <code>step_001_action.lua</code></p>
<dl class="section note"><dt>Note</dt><dd>Remember that the libary only uses three digit for numbering. There is no guarantee for serializing more then 1000 <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> 's in alphabetical order.</dd></dl>
</li>
<li>important <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> parameters are exported to the beginning of the file as Lua comments. See <a class="el" href="namespacetask.html#af28c4e2592d093e72faa983a544590c6" title="Serialize Step to the file system.">serialize_step(const std::filesystem::path&amp;, const Step&amp;)</a> for more information.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>to store <a class="el" href="classtask_1_1Sequence.html" title="A sequence of Steps to be executed under a given Context.">Sequence</a> </td></tr>
    <tr><td class="paramname">sequence</td><td>to be serialized </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classtask_1_1Sequence.html#ad2c6281b29b351dc92a491ae0e0858a9">task::Sequence::get_label()</a>, <a class="el" href="namespacetask.html#af28c4e2592d093e72faa983a544590c6">serialize_step()</a>, and <a class="el" href="classtask_1_1Sequence.html#ae4370fd20f8a5c2c897f0f11581e9732">task::Sequence::size()</a>.</p>

</div>
</div>
<a id="af28c4e2592d093e72faa983a544590c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28c4e2592d093e72faa983a544590c6">&#9670;&nbsp;</a></span>serialize_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::serialize_step </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtask_1_1Step.html">Step</a> &amp;&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serialize <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> to the file system. </p>
<p>It pushes the <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> properties to the stream:</p>
<div class="fragment"><div class="line">-- type: {action, <span class="keywordflow">if</span>, elseif, <span class="keywordflow">else</span>, <span class="keywordflow">while</span>, <span class="keywordflow">try</span>, <span class="keywordflow">catch</span>, end}</div>
<div class="line">-- label: &lt; \a label \a description &gt;</div>
<div class="line">-- use context variable names: [ \a variable1, ... ]</div>
<div class="line">-- time of last modification: %Y-%m-%d %H:%M:%S</div>
<div class="line">-- time of last execution: %Y-%m-%d %H:%M:%S</div>
<div class="line">-- timeout: [infinity|&lt; \a time \a in \a milliseconds &gt;]</div>
<div class="line">&lt; \a Lua \a script &gt;</div>
</div><!-- fragment --><p>The <em>Lua</em> <em>script</em> can be omitted for type <em>try</em>, <em>catch</em>, and <em>end</em> as it has no meaning for execution. See Step::execution for more information. The list of context variable names can also be empty.</p>
<p>Here is one example of a stored <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> <code>step_001_action.lua</code>:</p>
<div class="fragment"><div class="line">-- type: action</div>
<div class="line">-- label: Increment a</div>
<div class="line">-- use context variable names: [a]</div>
<div class="line">-- time of last modification: 2022-06-13 16:30:32</div>
<div class="line">-- time of last execution: 2022-06-13 16:55:21</div>
<div class="line">-- timeout: infinity</div>
<div class="line">a = a + 1</div>
</div><!-- fragment --><p>The label is explicitly escaped on storing and unescaped on loading.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">step</td><td>step to serialize </td></tr>
    <tr><td class="paramname">path</td><td>for the <a class="el" href="classtask_1_1Step.html" title="A step is the main building block of a sequence.">Step</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a43508d1c2279af5bf6ca7060dc3bcdd1">serialize_sequence()</a>.</p>

</div>
</div>
<a id="a2edfc1afaf6e9d8647ac3d98aa021e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2edfc1afaf6e9d8647ac3d98aa021e40">&#9670;&nbsp;</a></span>sleep_fct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task::sleep_fct </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>seconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sol::this_state&#160;</td>
          <td class="paramname"><em>sol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="namespacetask.html#ace524b550971d657d53d927af82ff984">hook_check_timeout_and_termination_request()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a2b7a11a007fc8aef5ca36bb152506877">install_custom_commands()</a>.</p>

</div>
</div>
<a id="aa8a13e460561c228be4437ac6e92a4f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a13e460561c228be4437ac6e92a4f8">&#9670;&nbsp;</a></span>timegm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t task::timegm </td>
          <td>(</td>
          <td class="paramtype">const std::tm &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ea37a86e93c0787a6a6d84eeba336e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea37a86e93c0787a6a6d84eeba336e8">&#9670;&nbsp;</a></span>to_string() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string task::to_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtask_1_1Step.html#a883bca847a5eb2882d74af8bf13ba3fd">Step::Type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a lower-case name for a step type ("action", "if", "end"). </p>

<p class="reference">Referenced by <a class="el" href="structfmt_1_1formatter_3_01task_1_1TimePoint_01_4.html#a421afd18fe22e2818fc99ea203f23ebd">fmt::formatter&lt; task::TimePoint &gt;::format()</a>, and <a class="el" href="namespacetask.html#a2246f61abd992f460cb3afe7ce45bac2">operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="a77a3adfb97957bfee85dbc4a0a5ea371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a3adfb97957bfee85dbc4a0a5ea371">&#9670;&nbsp;</a></span>to_string() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string task::to_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetask.html#acc0d5ac00c79dac8125ed175e9d6ae5c">task::TimePoint</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7bef6a9def7c1bf4e524f19e5e201907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bef6a9def7c1bf4e524f19e5e201907">&#9670;&nbsp;</a></span>abort_marker</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const gul14::string_view task::abort_marker { u8&quot;\U0001F6D1ABORT\U0001F6D1&quot; }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A marker string (the word "ABORT" surrounded by Unicode stop signs) whose presence anywhere in an error message signals that the execution of a script should be stopped. </p>

<p class="reference">Referenced by <a class="el" href="namespacetask.html#a4e70dafdac8eb79e24f90e03aec5b590">abort_script_with_error()</a>, <a class="el" href="classtask_1_1Sequence.html#a72a058077848e9856dd785df72cfb901">task::Sequence::execute()</a>, and <a class="el" href="classtask_1_1Sequence.html#a6eae0848dfaa6e444117bc4a6e24d6ac">task::Sequence::execute_try_block()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anamespacetask_html_a82e309aedbfe18de6803e1479fc4853d"><div class="ttname"><a href="namespacetask.html#a82e309aedbfe18de6803e1479fc4853d">task::send_message</a></div><div class="ttdeci">void send_message(CommChannel *comm_channel, Message::Type type, gul14::string_view text, TimePoint timestamp, Message::IndexType index)</div><div class="ttdoc">Enqueue a message in the given communication channel.</div><div class="ttdef"><b>Definition:</b> CommChannel.h:66</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 21 2022 15:26:04 for Taskolib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
